{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","index.js"],"names":["MovieItem","props","_this","Object","classCallCheck","this","_super","call","state","willWatch","_this2","_this$props","movie","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","API_URL","API_KEY_3","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","event","getClassLink","classNames","active","console","log","Pagination","currentPage","total_pages","updateCurrentPage","aria-label","href","disabled","page","Math","max","tabIndex","min","App","getMovies","fetch","then","response","json","data","movies","results","catch","err","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","prevProps","prevState","snapshot","data-toggle","data-target","aria-controls","aria-expanded","components_MovieTabs","components_Pagination","length","map","key","components_MovieItem","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.0fcf1903.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            willWatch: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {movie, deleteMovie, addMovieToWillWatch, deleteMovieFromWillWatch} = this.props;\r\n\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                    movie.poster_path}`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        {this.state.willWatch ? (\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-success\"\r\n                                    onClick={() => {\r\n                                        this.setState({\r\n                                            willWatch: false\r\n                                        });\r\n                                        deleteMovieFromWillWatch(movie);\r\n                                    }}\r\n                                >\r\n                                    Remove From Will Watch\r\n                                </button>\r\n                            ) : (\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => {\r\n                                        this.setState({\r\n                                            willWatch: true\r\n                                        });\r\n                                        addMovieToWillWatch(movie);\r\n                                    }}\r\n                                >\r\n                                    Add To Will Watch\r\n                                </button>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <p>{movie.title}</p>\r\n                        <button onClick={deleteMovie.bind(this, movie)}>Delete movie</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieItem;","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\nimport classNames from 'classnames'\r\nclass MovieTabs extends React.Component {\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return nextProps.sort_by !== this.props.sort_by;\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = value => {\r\n      return event => {\r\n        updateSortBy(value);\r\n      };\r\n    };\r\n\r\n    const getClassLink = value => {\r\n      return classNames('nav-link',{'active': sort_by === value});\r\n    };\r\n\r\n    console.log(\"MovieTabs render\");\r\n\r\n    return (\r\n      <ul className=\"navbar-nav mr-auto\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\nimport classNames from 'classnames'\r\n\r\nclass Pagination extends React.Component {\r\n    render() {\r\n        const {currentPage, total_pages, updateCurrentPage} = this.props;\r\n        const lastClass = () => classNames('page-item',{'disabled': currentPage === total_pages});\r\n        const firstClass = () => classNames('page-item',{'disabled': currentPage === 1});\r\n\r\n        const handleFirst = () => {\r\n            return event => {\r\n                updateCurrentPage(1);\r\n            };\r\n        };\r\n\r\n        const handleLast = () => {\r\n            return event => {\r\n                updateCurrentPage(total_pages);\r\n            };\r\n        };\r\n\r\n        const handleNext = () => {\r\n            return event => {\r\n                const page = Math.min(total_pages, currentPage+1)\r\n                updateCurrentPage(page);\r\n            };\r\n        };\r\n\r\n        const handlePrev = () => {\r\n            return event => {\r\n                const page = Math.max(1, currentPage-1)\r\n                updateCurrentPage(page);\r\n            };\r\n        };\r\n\r\n        return (\r\n            <nav aria-label=\"...\" className=\"toggle mt-md-2 mr-md-2\">\r\n                <ul className=\"pagination\">\r\n                    <li\r\n                        className=\"page-item\"\r\n                        onClick={handleFirst()}\r\n                    >\r\n                        <a className=\"page-link\" href=\"#\">First</a>\r\n                    </li>\r\n\r\n                    <li\r\n                        className={firstClass()}\r\n                        onClick={handlePrev()}\r\n                    >\r\n                        <a className=\"page-link\" href=\"#\">Previous</a>\r\n                    </li>\r\n\r\n                    <li className=\"page-item disabled\">\r\n                        <a className=\"page-link\" href=\"#\" tabIndex=\"-1\">Page: {currentPage} of {total_pages} pages</a>\r\n                    </li>\r\n\r\n                    <li\r\n                        className={lastClass()}\r\n                        onClick={handleNext()}\r\n                    >\r\n                        <a className=\"page-link\" href=\"#\">Next</a>\r\n                    </li>\r\n                    <li\r\n                        className=\"page-item\"\r\n                        onClick={handleLast()}\r\n                    >\r\n                        <a className=\"page-link\" href=\"#\">Last</a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport {API_URL, API_KEY_3} from \"../utils/api\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.total_pages = 1;\r\n\r\n        this.state = {\r\n            movies: [],\r\n            moviesWillWatch: [],\r\n            sort_by: \"popularity.desc\",\r\n            currentPage: 1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMovies();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.sort_by !== this.state.sort_by || prevState.currentPage !== this.state.currentPage) {\r\n            this.getMovies();\r\n        }\r\n    }\r\n\r\n    getMovies = () => {\r\n        fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.currentPage}`\r\n        ).then((response) => {\r\n            console.log('then', response)\r\n            return response.json()\r\n        }).then((data) => {\r\n            console.log('then', data)\r\n            this.total_pages = data.total_pages\r\n            this.setState({\r\n                movies: data.results\r\n            })\r\n        }).catch(err => {\r\n            this.setState({\r\n                movies: []\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteMovie = movie => {\r\n        const updateMovies = this.state.movies.filter(function (item) {\r\n            return item.id !== movie.id;\r\n        });\r\n        this.setState({\r\n            movies: updateMovies\r\n        })\r\n        this.deleteMovieFromWillWatch(movie);\r\n    }\r\n\r\n    addMovieToWillWatch = movie => {\r\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\r\n        this.setState({moviesWillWatch: updateMoviesWillWatch});\r\n    }\r\n\r\n    deleteMovieFromWillWatch = movie => {\r\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (item) {\r\n            return item.id !== movie.id;\r\n        });\r\n        this.setState({moviesWillWatch: updateMoviesWillWatch});\r\n    }\r\n\r\n    updateSortBy = value => {\r\n        this.setState({\r\n            sort_by: value\r\n        });\r\n    };\r\n\r\n    updateCurrentPage = page => {\r\n        console.log('updateCurrentPage', page)\r\n        this.setState({currentPage: page});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark fixed-top bg-info\">\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                            data-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\"\r\n                            aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n                        <MovieTabs\r\n                            sort_by={this.state.sort_by}\r\n                            updateSortBy={this.updateSortBy}\r\n                        />\r\n                        <Pagination\r\n                            currentPage={this.state.currentPage}\r\n                            total_pages={this.total_pages}\r\n                            updateCurrentPage={this.updateCurrentPage}\r\n                        />\r\n                        <div className=\"toggle mr-md-2 text-white\">\r\n                            Will Watch: {this.state.moviesWillWatch.length}\r\n                        </div>\r\n\r\n                    </div>\r\n                </nav>\r\n                <div className=\"container-fluid\">\r\n                    <div>\r\n                        <br/>\r\n                        <br/>\r\n                    </div>\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-12\">\r\n                            <div className=\"row\">\r\n                                {\r\n                                    this.state.movies.map(movie => {\r\n                                        return (\r\n                                            <div className=\"col-4 mb-4\" key={movie.id}>\r\n                                                <MovieItem\r\n                                                    movie={movie}\r\n                                                    deleteMovie={this.deleteMovie}\r\n                                                    addMovieToWillWatch={this.addMovieToWillWatch}\r\n                                                    deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                                                />\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}